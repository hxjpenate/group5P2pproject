$(function(){$("#regFrom").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{validators:{notEmpty:{message:"用户名必填!"},stringLength:{min:6,max:18,message:"用户名长度必须在6-18位"}}},password1:{validators:{notEmpty:{message:"密码不能为空!"},stringLength:{min:6,message:"密码长度至少6位"}}},password2:{validators:{notEmpty:{message:"请再次输入密码!"},identical:{field:"password1",message:"两次密码输入不一致!"}}},realname:{validators:{notEmpty:{message:"请填写真实姓名!"}}},mobile:{validators:{notEmpty:{message:"请填写您的手机号码!"},regexp:{regexp:/^1[34578]\d{9}$/,message:"请输入正确的号码格式  例:13x-xxxx-xxxx"}}},isAgree:{validators:{notEmpty:{message:"请仔细阅读并同意相关协议规定!"}}}}}).on("success.form.bv",function(a){a.preventDefault();var o=$(a.target),e=(o.data("bootstrapValidator"),o.serialize());$("#regmodal .modal-title").text("用户注册提示"),$.post("/api/userAdd.php",e,function(a){if(a.isSuccess){$("#regmodal .modal-body").html("<span class='glyphicon glyphicon-ok'></span>"+a.msg+"<span id='num'>5</span>秒后跳转...."),$("#regmodal").modal("show");var o=5;setInterval(function(){o--,$("#num").text(o),0==o&&(clearInterval("timeid"),location.href="login.php")},1e3)}else $("#regmodal .modal-body").html("<span class='glyphicon glyphicon-remove'></span>"+a.msg),$("#regmodal .modal-body").html("<span class='glyphicon glyphicon-ok'></span>"+a.msg),$("#regmodal").modal("show")},"json")})}),$(function(){$("#showCode").tooltip()});